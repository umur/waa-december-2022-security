<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>Signup</title>
    <script>
        window.onload = function () {
            const signup = document.getElementById("signup");
            signup.onclick = () => {
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;
                const firstname = document.getElementById("firstName").value;
                const lastname = document.getElementById("lastName").value;
                fetch("http://localhost:8080/uaa/signup", {
                    headers: ({ "content-type": "application/json" }),
                    method: "POST",
                    body: JSON.stringify({
                        firstName: firstname,
                        lastName: lastname,
                        email: username,
                        password: password,
                    }),
                })
                    .then((response) => (window.location.href = "./login.html"))
                    .catch(() => alert("Invalid Data!"));
            };

        }
    </script>

</head>

<body>
    <section class=" text-center text-lg-start">
        <style>
            .rounded-t-5 {
                border-top-left-radius: 0.5rem;
                border-top-right-radius: 0.5rem;
            }

            @media (min-width: 992px) {
                .rounded-tr-lg-0 {
                    border-top-right-radius: 0;
                }

                .rounded-bl-lg-5 {
                    border-bottom-left-radius: 0.5rem;
                }
            }
        </style>
        <div class="card mb-3">
            <div class="row g-0 d-flex align-items-center">
                <h1 style="text-align: center;">Signup</h1>

                <div class="col-lg-8">
                    <div class="card-body py-5 px-md-5">
                        <form>
                            <div class="form-outline mb-4">
                                <label class="form-label" for="firstName">First Name</label>
                                <input type="text" id="firstName" class="form-control" />
                            </div>
                            <div class="form-outline mb-4">
                                <label class="form-label" for="lastName">Last Name</label>
                                <input type="text" id="lastName" class="form-control" />
                            </div>
                            <div class="form-outline mb-4">
                                <label class="form-label" for="username">Email address</label>
                                <input type="email" id="username" class="form-control" />
                            </div>

                            <div class="form-outline mb-4">
                                <label class="form-label" for="password">Password</label>
                                <input type="password" id="password" class="form-control" />
                            </div>

                            <div class="row mb-4">
                                <div class="col">
                                    <a href="./login.html">Already have an account! Click to login</a>
                                </div>
                            </div>

                            <button type="button" id="signup" class="btn btn-primary btn-block mb-4">Signup</button>

                        </form>

                    </div>
                </div>
                <div class="col-lg-4 d-none d-lg-flex">
                    <img src="https://localwiki.org/media/cache/e5/ab/e5ab2b67578e3eee57687f8b3e816acf.png" alt="MIU"
                        class="w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5" />
                </div>
            </div>
        </div>
    </section>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>

</html>